;Author: Fernanda Jacques
;Initial Laser Nitriding Tests
;Version.2

N100 $AC_TIMER[1]=0 

;General Config.--------------------
N110 G91			;relative positioning
N120 G641			;turn off delay 1 
N130 G603			;turn off delay 2 
N140 M55			;home mirror
N150 G4F3			;necessary delay for positioning of the mirror				
N160 M0			;wait for user-input

;R-Parameters-----------------------
N170 R0=2189		  ;Laser Power
N171 R2=1000
N180 R3=3		;SPACE BETWEEN LINES
N190 R4=15   		  ;Line Length
N200 R5=(R4+R3)
N210 R6=50 			;NUMBER OF LINES
N220 R7=100			;INICIAL SPEED
N230 R8=200			;SECOND SPEED
N240 R9=300
N250 R10=400
N260 R11=500
N270 R12=600
N280 R13=700
N290 R14=800

;Process Start-up-------------------
N300 M56			;set canal 1 as laser-source
N310 G4F3			;necessary delay for positioning of the mirror
N320 M0			;wait for user-input
;START CROSSJET!!!!!
;N300 G4 F10
N330 M0

;Laser On and Path------------------
N340 H=R0  
N350 LINE1:
N360 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N370 G1 Y=(-R4) F=R7	;LINE 
N380 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N390 G1 Y=(R4) F=R2
N400 REPEAT LINE1 P=(R6-1)
N410 G1 Y=(-R5)

N420 LINE2:
N430 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N440 G1 Y=(-R4) F=R8	;LINE 
N450 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N460 G1 Y=(R4) F=R2
N470 REPEAT LINE2 P=(R6-1)
N480 G1 Y=(-R5)

N490 LINE3:
N500 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N510 G1 Y=(-R4) F=R9	;LINE 
N520 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N530 G1 Y=(R4) F=R2
N540 REPEAT LINE3 P=(R6-1)
N550 G1 Y=(-R5)

N560 LINE4:
N570 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N580 G1 Y=(-R4) F=R10	;LINE 
N590 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N600 G1 Y=(R4) F=R2
N610 REPEAT LINE4 P=(R6-1)
N620 G1 Y=(-R5)

N630 LINE5:
N640 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N650 G1 Y=(-R4) F=R11	;LINE 
N660 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N670 G1 Y=(R4) F=R2
N680 REPEAT LINE5 P=(R6-1)
N690 G1 Y=(-R5)

N700 LINE6:
N710 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N720 G1 Y=(-R4) F=R12	;LINE 
N730 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N740 G1 Y=(R4) F=R2
N750 REPEAT LINE6 P=(R6-1)
N760 G1 Y=(-R5)

N770 LINE7:
N780 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N790 G1 Y=(-R4) F=R13	;LINE 
N800 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N810 G1 Y=(R4) F=R2
N820 REPEAT LINE7 P=(R6-1)
N830 G1 Y=(-R5)

N840 LINE8:
N850 ID=1 WHEN $AC_TIMER[1]>=0 DO M50	;LASER ON
N860 G1 Y=(-R4) F=R14	;LINE 
N870 ID=1 WHEN $AC_TIMER[1]>=0 DO M51	;LASER OFF
N880 G1 Y=(R4) F=R2
N890 REPEAT LINE8 P=(R6-1)

;End of Programm--------------------
N900 M55				;home mirror
N910 M30				;program end






